1. 블록체인의 등장 배경
전자 상거래에서 중앙 서버에 모든 데이터가 저장되어 있는 구조를 사용한다면, 서버가 해킹당하면 보안 문제가 발생할 수 있습니다.
또, 데이터를 한 기관에서 독점 관리하게 되면 외부에서는 데이터에 대한 신뢰의 문제가 생길 수 있습니다.
이런 문제를 해결하기 위해 나온 개념이 블록체인입니다.

2. 개념
블록체인은 여러 컴퓨터들이 거래 기록을 나누어 저장하고 검증하는 네트워크입니다.
데이터를 여러 곳에 분산해서 저장하고, 각 데이터 조각들은 해시를 통해 논리적으로 연결된 구조를 가집니다.

3. 구조
하나의 블록은 이전블록과 현재블록의 해시값을 가지고, 거래 관련 데이터를 저장합니다. 여기서 해시는 데이터를 일정한 길이의 숫자로 바꾸는 함수인데, 조금만 변경되어도 완전히 다른 값이 나옵니다. 현재 블록에서 이전 블록의 해시값을 비교해서 다른 값이 나타난다면, 데이터가 조작되었다고 판단하여 그 즉시 순회를 중단합니다.
이렇게 해시를 통해 블록들이 체인처럼 연결되어 조작이 불가능한 구조가 되어 데이터에 대해 신뢰성을 확보할 수 있습니다.

4. 자료구조
블록체인의 상태 데이터는 Key-Value 형태로 계속 쌓이고 삭제가 거의 없는 구조입니다. LSM 트리 기반 저장소(LevelDB/RocksDB)는 랜덤 접근을 피하고, 데이터를 메모리에 모은 뒤, 일정 크기가 넘어가면 디스크에 순차적으로 기록하기 때문에 쓰기 성능이 매우 높습니다.

5. 블록체인의 장, 단점
한번 추가된 블록은 삭제할 수 없고, 블록의 데이터를 수정할 수도 없습니다. 따라서 데이터의 위, 변조가 어려워 보안에 강력한 신뢰성을 가집니다.
하지만, 그런 만큼 시간이 지날수록 불필요한 과거의 데이터들이 계속 쌓이는 문제가 있습니다. 
이런 단점을 보완하기 위해 과거의 블록은 유효성을 입증하는데 필요한 정보와 현재 상태를 저장하는 메타 데이터만 저장하고, 추가된 지 얼마 되지 않은 블록들의 정보만 모두 저장하는 방식을 사용합니다.
이를 Pruned Node 라고 합니다. Pruned Node는 과거의 정확한 거래 내역들은 알 수 없지만, 현재 상태의 정보는 정확하게 보유하고 있고, 블록체인의 불변성을 검증할 때 필요한 최소한의 정보를 보유합니다.

